<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayush & Ananya's Wedding</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Playfair Display, Manrope, and Dancing Script -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Manrope:wght@300;400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <!-- Animate.css for enhanced animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        /* Custom styles to extend Tailwind */
        body {
            font-family: 'Manrope', sans-serif;
            background-color: #FDFBF8; /* Soft cream background */
            overflow-x: hidden;
        }
        h1, h2, h3, h4, .font-display {
            font-family: 'Playfair Display', serif;
        }
        .font-cursive {
            font-family: 'Dancing Script', cursive;
        }
        .text-gold { color: #B8860B; }
        .bg-gold { background-color: #B8860B; }
        .border-gold { border-color: #B8860B; }
        .ring-gold { --tw-ring-color: #B8860B; }
        .bg-navy { background-color: #1A233A; }
        .text-navy { color: #1A233A; }

        /* Pre-loader styles */
        #preloader {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #FDFBF8; z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 0.8s ease-in-out;
        }
        #preloader.hidden { opacity: 0; pointer-events: none; }
        .loader-initials { animation: pulse 2s infinite ease-in-out; }
        @keyframes pulse {
            0% { opacity: 0.5; transform: scale(0.95); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 0.5; transform: scale(0.95); }
        }

        /* Hero Canvas for Particles */
        #hero-canvas {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0; background: #1A233A;
        }
        
        /* Nav Link Animation */
        .nav-link::after {
            content: ''; position: absolute; width: 0; height: 1px; bottom: -4px;
            left: 50%; transform: translateX(-50%); background-color: #B8860B;
            transition: width 0.3s ease-in-out;
        }
        .nav-link:hover::after { width: 100%; }

        /* Story Timeline */
        .timeline { position: relative; max-width: 1200px; margin: 0 auto; }
        .timeline::after { content: ''; position: absolute; width: 3px; background-color: #B8860B; top: 0; bottom: 0; left: 50%; margin-left: -1.5px; opacity: 0.3; }
        .timeline-container { padding: 10px 40px; position: relative; background-color: inherit; width: 50%; opacity: 0; }
        .timeline-container.visible { animation: fadeInUp 1s forwards; }
        .timeline-container.left { left: 0; }
        .timeline-container.right { left: 50%; }
        .timeline-container::after { content: ''; position: absolute; width: 25px; height: 25px; right: -12.5px; background-color: #FDFBF8; border: 4px solid #B8860B; top: 15px; border-radius: 50%; z-index: 1; transform: scale(0); transition: transform 0.5s ease-in-out; }
        .timeline-container.visible::after { transform: scale(1); }
        .timeline-container.right::after { left: -12.5px; }
        .timeline-content { padding: 20px 30px; background-color: white; position: relative; border-radius: 6px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        
        @media screen and (max-width: 768px) {
            .timeline::after { left: 31px; }
            .timeline-container { width: 100%; padding-left: 70px; padding-right: 25px; }
            .timeline-container.right { left: 0%; }
            .timeline-container.left::after, .timeline-container.right::after { left: 18px; }
        }

        /* Lightbox Gallery */
        #lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(26, 35, 58, 0.9); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        #lightbox.active { opacity: 1; pointer-events: all; }
        #lightbox img { max-width: 90%; max-height: 80%; box-shadow: 0 0 25px rgba(0,0,0,0.5); border-radius: 8px; }
        .lightbox-btn {
            position: absolute;
            top: 50%; transform: translateY(-50%);
            background: rgba(255,255,255,0.1); color: white; border: none;
            font-size: 2rem; padding: 0.5rem 1rem; cursor: pointer; border-radius: 8px;
            transition: background 0.3s;
        }
        .lightbox-btn:hover { background: rgba(255,255,255,0.2); }
        #lightbox-close { top: 40px; right: 40px; font-size: 2rem; padding: 0; background: none; }
        #lightbox-prev { left: 40px; }
        #lightbox-next { right: 40px; }
    </style>
</head>
<body class="text-gray-700 antialiased">

    <!-- Pre-loader -->
    <div id="preloader">
        <div class="loader-initials">A & A</div>
    </div>

    <!-- Music Player -->
    <audio id="background-music" src="https://cdn.pixabay.com/download/audio/2022/01/21/audio_39180302a2.mp3" loop></audio>
    
    <!-- Header -->
    <header id="header" class="bg-white/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 shadow-sm transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-3xl font-cursive text-navy">A & A</a>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#story" class="nav-link text-gray-600 hover:text-gold">Our Story</a>
                <a href="#events" class="nav-link text-gray-600 hover:text-gold">Events</a>
                <a href="#gallery" class="nav-link text-gray-600 hover:text-gold">Gallery</a>
                <a href="#rsvp" class="ml-4 px-5 py-2.5 text-sm text-white bg-gold rounded-full hover:bg-opacity-90 transition-all duration-300 shadow hover:shadow-lg">RSVP</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-navy">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4 space-y-2">
             <a href="#story" class="block text-gray-600 hover:text-gold">Our Story</a>
             <a href="#events" class="block text-gray-600 hover:text-gold">Events</a>
             <a href="#gallery" class="block text-gray-600 hover:text-gold">Gallery</a>
             <a href="#rsvp" class="block mt-2 px-4 py-2 text-center text-white bg-gold rounded-full hover:bg-opacity-90 transition">RSVP</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="h-screen min-h-[700px] relative flex items-center justify-center text-white bg-navy">
        <canvas id="hero-canvas"></canvas>
        <div class="relative text-center z-10 p-4">
            <p class="text-lg tracking-widest mb-4 animate__animated animate__fadeIn animate__delay-1s">SAVE THE DATE</p>
            <h1 class="text-6xl md:text-8xl lg:text-9xl font-display leading-tight animate__animated animate__fadeInUp animate__delay-1s">
                Ayush & Ananya
            </h1>
            <div class="w-24 h-px bg-white mx-auto my-8 animate__animated animate__fadeIn animate__delay-2s"></div>
            <p class="text-xl tracking-wider animate__animated animate__fadeIn animate__delay-2s">NOVEMBER 24 & 25, 2025</p>
        </div>
    </section>

    <main class="container mx-auto px-6 py-16 md:py-24">

        <!-- Countdown Section -->
        <section class="text-center mb-20 md:mb-32">
             <h2 class="text-3xl md:text-4xl font-display text-navy mb-4">The Celebration Begins In</h2>
             <p class="max-w-2xl mx-auto text-gray-600 mb-8 font-cursive text-2xl text-gold">Join us as we count down the moments!</p>
             <div id="countdown" class="flex justify-center space-x-4 md:space-x-8 text-navy">
                <div><span id="days" class="text-4xl md:text-5xl font-bold"></span><p class="text-sm">Days</p></div>
                <div><span id="hours" class="text-4xl md:text-5xl font-bold"></span><p class="text-sm">Hours</p></div>
                <div><span id="minutes" class="text-4xl md:text-5xl font-bold"></span><p class="text-sm">Minutes</p></div>
                <div><span id="seconds" class="text-4xl md:text-5xl font-bold"></span><p class="text-sm">Seconds</p></div>
             </div>
        </section>

        <!-- Wedding Events Section -->
        <section id="events" class="mb-20 md:mb-32 text-center">
            <p class="text-gold tracking-widest mb-2">THE CELEBRATION</p>
            <h2 class="text-4xl md:text-5xl font-display text-navy mb-12">Schedule of Events</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <!-- Haldi Ceremony -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="droplets" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Haldi</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">हल्दी</p>
                    <p class="font-semibold text-gray-700">Nov 24, 12:00 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">An auspicious start with blessings, laughter, and a touch of turmeric.</p>
                    <p class="text-sm text-gray-500 mb-4">Ramada , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Chandigarh+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
                <!-- Ring Ceremony -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="ring" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Ring Ceremony</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">सगाई</p>
                    <p class="font-semibold text-gray-700">Nov 24, 6:30 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">The exchange of rings, sealing a promise of love and togetherness.</p>
                    <p class="text-sm text-gray-500 mb-4">Ramada , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Chandigarh+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
                <!-- Bhat Ceremony -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="gift" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Bhat</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">भात</p>
                    <p class="font-semibold text-gray-700">Nov 25, 12:00 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">A beautiful ceremony celebrating the maternal family's love and support.</p>
                    <p class="text-sm text-gray-500 mb-4">Ramada , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Chandigarh+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
                <!-- Barat -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="music" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Barat</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">बरात</p>
                    <p class="font-semibold text-gray-700">Nov 25, 7:00 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">Join the grand procession of music and dance as the groom arrives.</p>
                    <p class="text-sm text-gray-500 mb-4">Ramada , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Ramada+by+Wyndham+Chandigarh+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
                <!-- Reception -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="glass-water" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Reception</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">स्वागत समारोह</p>
                    <p class="font-semibold text-gray-700">Nov 25, 9:00 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">A grand celebration with dinner, drinks, and dancing to honor the newlyweds.</p>
                    <p class="text-sm text-gray-500 mb-4">The Grandeur , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=The+Grandeur+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
                <!-- Fera Ceremony -->
                <div class="bg-white p-6 rounded-lg shadow-xl border-t-4 border-gold text-center transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                    <i data-lucide="flame" class="w-10 h-10 text-gold mx-auto mb-4"></i>
                    <h3 class="text-2xl font-display text-navy mb-2">Fere</h3>
                    <p class="font-cursive text-lg text-gold -mt-2 mb-2">फेरे</p>
                    <p class="font-semibold text-gray-700">Nov 25, 11:00 PM Onwards</p>
                    <p class="text-gray-600 my-3 flex-grow">Witness the sacred vows as they circle the holy fire and unite as one.</p>
                    <p class="text-sm text-gray-500 mb-4">The Grandeur , Zirakpur</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=The+Grandeur+Zirakpur" target="_blank" class="text-gold font-semibold hover:underline mt-auto">View Map &rarr;</a>
                </div>
            </div>
        </section>

        <section id="gallery" class="mb-20 md:mb-32">
    <div class="text-center">
        <p class="text-gold tracking-widest mb-2">The Bride And The Groom</p>
        <h2 class="text-4xl md:text-5xl font-display text-navy mb-12">Ayush & Ananya</h2>
    </div>
    <div id="gallery-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-5xl mx-auto">
        <div><img class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer transform hover:scale-105 transition-transform" src="DSC_0834.jpg" alt="Ayush and Ananya sharing a happy moment"></div>
        <div><img class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer transform hover:scale-105 transition-transform" src="DSC_0836.jpg" alt="Ayush and Ananya looking at each other"></div>
        <div><img class="gallery-item h-full w-full object-cover rounded-lg shadow-md cursor-pointer transform hover:scale-105 transition-transform" src="DSC_0879.jpg" alt="Ayush and Ananya posing together"></div>
    </div>
</section>

        <!-- RSVP Section -->
        <section id="rsvp" class="bg-white rounded-lg shadow-xl p-8 md:p-16">
            <div class="max-w-2xl mx-auto text-center">
                <p class="text-gold tracking-widest mb-2">BE OUR GUEST</p>
                <h2 class="text-4xl md:text-5xl font-display text-navy mb-4">Kindly Respond</h2>
                <p class="text-gray-600 mb-8">Your presence is the greatest gift, but a response by October 31st would be deeply appreciated.</p>
                <form id="rsvpForm" class="text-left space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                        <input type="text" name="name" id="name" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gold focus:border-gold transition">
                    </div>
                    <div>
                        <label for="guests" class="block text-sm font-medium text-gray-700">Number of Guests Attending</label>
                        <select id="guests" name="guests" required class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gold focus:border-gold transition">
                            <option>1</option><option>2</option><option>3</option><option>4</option>
                        </select>
                    </div>
                    <div>
                        <span class="block text-sm font-medium text-gray-700 mb-2">Which events will you attend?</span>
                        <div class="space-y-2">
                            <div class="flex items-center"><input id="event_mehendi" name="events" type="checkbox" value="Mehendi & Sangeet" class="h-4 w-4 text-gold border-gray-300 rounded focus:ring-gold"><label for="event_mehendi" class="ml-3 block text-sm text-gray-700">Mehendi & Sangeet (Nov 24)</label></div>
                            <div class="flex items-center"><input id="event_wedding" name="events" type="checkbox" value="Wedding & Reception" class="h-4 w-4 text-gold border-gray-300 rounded focus:ring-gold"><label for="event_wedding" class="ml-3 block text-sm text-gray-700">Wedding & Reception (Nov 25)</label></div>
                        </div>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700">Leave a message for the couple (optional)</label>
                        <textarea id="message" name="message" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gold focus:border-gold transition"></textarea>
                    </div>
                    <div><button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gold hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-all duration-300 transform hover:scale-105">Submit RSVP</button></div>
                </form>
                <div id="formResponse" class="hidden mt-8"></div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-navy text-white">
        <div class="container mx-auto py-12 px-6 text-center">
            <h3 class="text-4xl font-cursive text-gold mb-4">Ayush & Ananya</h3>
            <p class="mb-6">November 24 & 25, 2025 | Chandigarh & Zirakpur </p>
            <p class="text-sm text-gray-400">#AyushWedsAnanya</p>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox">
        <button id="lightbox-close" class="lightbox-btn">&times;</button>
        <button id="lightbox-prev" class="lightbox-btn">&larr;</button>
        <button id="lightbox-next" class="lightbox-btn">&rarr;</button>
        <img id="lightbox-image" src="" alt="Enlarged gallery image">
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "YOUR_API_KEY", authDomain: "...", projectId: "..." };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-wedding-app';
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        onAuthStateChanged(auth, async (user) => {
            if (!user) {
                try {
                    const initialToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                    if (initialToken) { await signInWithCustomToken(auth, initialToken); } else { await signInAnonymously(auth); }
                } catch (error) { console.error("Authentication failed:", error); }
            }
        });
        const rsvpForm = document.getElementById('rsvpForm');
        if (rsvpForm) {
            const formResponse = document.getElementById('formResponse');
            rsvpForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const submitButton = rsvpForm.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';
                const name = rsvpForm.name.value, guests = rsvpForm.guests.value, events = Array.from(rsvpForm.querySelectorAll('input[name="events"]:checked')).map(el => el.value), message = rsvpForm.message.value;
                try {
                    const rsvpCollectionPath = `/artifacts/${appId}/public/data/rsvps`;
                    await addDoc(collection(db, rsvpCollectionPath), { name, guests: parseInt(guests), attendingEvents: events, message, submittedAt: serverTimestamp() });
                    rsvpForm.classList.add('hidden');
                    formResponse.innerHTML = `<div class="text-center animate__animated animate__tada"><h3 class="text-3xl font-display text-gold mb-2">Thank You, ${name}!</h3><p class="text-lg">Your response has been received. We can't wait to celebrate with you!</p></div>`;
                    formResponse.classList.remove('hidden');
                } catch (error) {
                    console.error("Error adding document: ", error);
                    formResponse.innerHTML = `<div class="text-center text-red-600"><p>Sorry, there was an error submitting your RSVP. Please try again later.</p></div>`;
                    formResponse.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit RSVP';
                }
            });
        }
    </script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide-icons@latest/dist/lucide.js"></script>

    <!-- Main App Logic -->
    <script>
        window.onload = () => {
            // Hide preloader
            document.getElementById('preloader').classList.add('hidden');

            // --- Bokeh Background Animation ---
            const canvas = document.getElementById('hero-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            let circles = [];
            const colors = ['rgba(240, 217, 153, 0.2)', 'rgba(255, 255, 255, 0.2)', 'rgba(218, 165, 32, 0.2)'];

            class Circle {
                constructor(x, y, radius, color, speed) {
                    this.x = x; this.y = y; this.radius = radius; this.color = color; this.speed = speed;
                }
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }
                update() {
                    this.y -= this.speed;
                    if (this.y < -this.radius) {
                        this.y = canvas.height + this.radius;
                        this.x = Math.random() * canvas.width;
                    }
                    this.draw();
                }
            }

            function initCircles() {
                circles = [];
                const numCircles = Math.floor(canvas.width / 40);
                for (let i = 0; i < numCircles; i++) {
                    const radius = Math.random() * 60 + 20;
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    const speed = Math.random() * 0.5 + 0.1;
                    circles.push(new Circle(x, y, radius, color, speed));
                }
            }

            function animateBokeh() {
                requestAnimationFrame(animateBokeh);
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                circles.forEach(circle => circle.update());
            }

            initCircles();
            animateBokeh();
            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                initCircles();
            });

            // --- Music Controls ---
            const music = document.getElementById('background-music');
            document.body.addEventListener('click', () => {
                music.play().catch(e => console.log("Browser prevented autoplay."));
            }, { once: true });

            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            // --- Countdown Timer ---
            const countdownDate = new Date("2025-11-25T17:00:00").getTime();
            const countdownElement = document.getElementById('countdown');
            if (countdownElement) {
                const interval = setInterval(() => {
                    const now = new Date().getTime();
                    const distance = countdownDate - now;
                    if (distance < 0) {
                        clearInterval(interval);
                        countdownElement.innerHTML = "<h3 class='text-3xl font-display text-gold'>The day is here!</h3>";
                        return;
                    }
                    document.getElementById('days').innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
                    document.getElementById('hours').innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    document.getElementById('minutes').innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    document.getElementById('seconds').innerText = Math.floor((distance % (1000 * 60)) / 1000);
                }, 1000);
            }

            // --- Scroll Animations ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });
            document.querySelectorAll('.timeline-container').forEach(el => observer.observe(el));

            // --- Lightbox Gallery Logic ---
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const galleryItems = Array.from(document.getElementsByClassName('gallery-item'));
            let currentImageIndex;

            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    lightbox.classList.add('active');
                    lightboxImage.src = item.src;
                    currentImageIndex = index;
                });
            });

            const showImage = (index) => {
                currentImageIndex = (index + galleryItems.length) % galleryItems.length;
                lightboxImage.src = galleryItems[currentImageIndex].src;
            };

            document.getElementById('lightbox-close').addEventListener('click', () => lightbox.classList.remove('active'));
            document.getElementById('lightbox-prev').addEventListener('click', () => showImage(currentImageIndex - 1));
            document.getElementById('lightbox-next').addEventListener('click', () => showImage(currentImageIndex + 1));
            
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                }
            });

            // --- Initialize Lucide Icons ---
            lucide.createIcons();
        };
    </script>
</body>
</html>
